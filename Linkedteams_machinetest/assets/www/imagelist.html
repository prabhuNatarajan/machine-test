<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
		<title>List</title>
		<link rel="stylesheet" href="stylesheet/orderstatus.css" />
        <link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.1.0.min.css" />  
        <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.6.4.min.js"></script>
        <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.0.min.js"></script>
        <!-- <script src="db_handler/customerDB.js"></script> -->
        <script src="js/list.js"></script>
   
            <script type="text/javascript" charset="utf-8">
                  
              // $(document).bind("mobileinit", function(){$.mobile.defaultPageaTransition = "none";});
              document.addEventListener("deviceready", onDeviceReady, false);
  
              function onDeviceReady() {
              	  document.addEventListener("backbutton", onBackKeyDown, false);
                  checkConnection();
              }
              
              function onBackKeyDown() {
	    	  console.log("Back button pressed");
	    	  window.location="order.html";
	     	  }
                             
              function checkConnection() {
                
              var networkState = navigator.network.connection.type;
              var states = {};
              states[Connection.UNKNOWN]  = 'Unknown connection';
              states[Connection.ETHERNET] = 'Ethernet connection';
              states[Connection.WIFI]     = 'WiFi connection';
              states[Connection.CELL_2G]  = 'Cell 2G connection';
              states[Connection.CELL_3G]  = 'Cell 3G connection';
              states[Connection.CELL_4G]  = 'Cell 4G connection';
              states[Connection.CELL]     = 'Cell generic connection';
              states[Connection.NONE]     = 'No network connection';
              window.localStorage.setItem("networkstate", states[networkState]);
              // alert('Connection type: ' + states[networkState]);
              
              var user = window.localStorage.getItem("usr");
              var pass = window.localStorage.getItem("pwd");
                    
              var state = window.localStorage.getItem("networkstate");
                    if(user == null && pass == null){
                        if(state == "No network connection"){
                            console.log("No network connection");
                            var message = "Internet connection required";
                            showAlert(message);
                        }
                    }
                }	
            function goto_home() {
              	window.location = "dashboard.html";
         	}   
         	function alertDismissed() {
             // do something
         	}    
         	function showAlert(message) {
            	navigator.notification.alert(
            	    message,                 // message
            	    alertDismissed,          // callback
            	    'Alert',                // title
            	    'Done'                  // buttonName
           	 	);
            } 
	            
		</script>
	</head>

	<body id="body" onLoad="load_list();" >
	
		<div data-role="page" id="page1">
        		
		<div style="padding:5px" ></div>
		
		<div data-role="content" >
                <ul class="imageList" data-role="listview" data-filter="true" data-filter-reveal="true" data-filter-placeholder="search list" style="display:block" >
                </ul>
        </div>
		  		 
	</body>
</html>
